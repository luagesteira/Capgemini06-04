<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Produto</title>
    < src="sproduto.js"></>

</head>

<body onload="loadCategoria()">
  Lu@7zgpgc
  <div>  <nav class="containerNav">
        <a href="index.html">Voltar</a>
        <a href="cadastro.html">Voltar</a>

    </nav>
</div>

<div>
            <form action="#" method="POST">
                <h1>Cadastro de Produto</h1>
                <p>Complete as informações:</p>
                <label>Produto:</label>
                <input type="text" id="descricao" placeholder="Informe o produto" required />
                <label>Preço:</label>
                <input type="Medida:" id="preco" placeholder="Informe o preço" required />
                <label>Produto:</label>
                <input type="number" id="medida" placeholder="Informe a unidade de medida" required />
                <label>Fornecedor:</label>
                <input type="text" id="fornecedor" placeholder="Informe o fornecedor" required />
                <label>Selecione o tipo do produto:</label>
                <select id="categoria">
                    <!-- Carregado dinamicamente pela função display-->
                </select>
                <p></p>
                <div><button onclick="onSubmit()">Gravar</button></div>
                <p></p>
                <button onclick="reset()">Cancelar</button </form>
        </div>
    <>
        
        function loadCategoria() {
            fetch("http://localhost:3000/categorias")
                .then(x => x.text())
                .then(cat => display(cat))
        }
        function display(dados) {
            let lista = JSON.parse(dados)
            var opt = ""
            for (let ob in lista) {
                opt += "<option var="  + lista[ob].id + ">" + lista[ob].descricao + "</option>"
            }
            document.getElementById("categoria").innerHTML = opt;
        }
      
    </>
</body>

</html>

